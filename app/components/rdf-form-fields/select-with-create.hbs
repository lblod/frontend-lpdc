<AuLabel
  @error={{this.hasErrors}}
  @required={{this.isRequired}}
  for={{this.id}}
>
  {{@field.label}}
</AuLabel>

{{#if @show}}
  <AuInput @disabled="true" @value={{this.value}}/>
{{else}}
  <div class={{if this.hasErrors "ember-power-select--error"}}>
    <PowerSelectWithCreate
      @noMatchesMessage="Geen resultaten"
      @buildSuggestion={{this.createSuggestion}}
      @options={{this.options}}
      @selected={{this.value}}
      @allowClear={{true}}
      @onChange={{this.updateOption}}
      @onCreate={{this.createOption}}
      @showCreateWhen={{this.showCreateWhen}}
      @disabled={{@show}}
      @triggerId={{this.id}}
      as |option|
    >
      {{option}}
    </PowerSelectWithCreate>
  </div>
{{/if}}

{{#each this.errors as |error|}}
  <AuHelpText @error={{true}}>{{error.resultMessage}}</AuHelpText>
{{/each}}