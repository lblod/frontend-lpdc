<AuLabel
  @error={{this.hasErrors}}
  @required={{this.isRequired}}
  for={{this.id}}
>
  {{@field.label}}
</AuLabel>

{{!-- template-lint-disable no-inline-styles --}}
<div class="au-o-grid au-o-grid--flush" style="height: 36px;">
  <div class="au-o-grid__item au-u-2-3 au-u-flex-grow-0">
    {{#if @show}}
      <AuInput @disabled="true" value={{this.value}} />
    {{else}}
      <div class={{if this.hasErrors "ember-power-select--error"}}>
        <PowerSelectWithCreate
          @noMatchesMessage="Geen resultaten"
          @buildSuggestion={{this.createSuggestion}}
          @options={{this.options}}
          @selected={{this.value}}
          @allowClear={{true}}
          @onChange={{this.updateOption}}
          @onCreate={{this.createOption}}
          @showCreateWhen={{this.showCreateWhen}}
          @disabled={{@show}}
          @triggerId={{this.id}}
          as |option|
        >
          {{option}}
        </PowerSelectWithCreate>
      </div>
    {{/if}}

    {{#each this.errors as |error|}}
      <AuHelpText @error={{true}}>{{error.resultMessage}}</AuHelpText>
    {{/each}}
  </div>

  {{#if (and this.helpText (not @show))}}
    <div class="au-o-grid__item au-u-muted au-u-1-3 au-u-flex au-u-flex--row">
      <AuIcon
        @icon="info-circle"
        @size="large"
        class="au-u-margin-left-small au-u-margin-right-small au-u-flex-shrink-0"
      />
      <AuContent>
        <AuHelpText
          @size="normal"
          @skin="secondary"
          class="au-u-margin-top-none"
        >
          {{! template-lint-disable no-triple-curlies }}
          {{{this.helpText}}}
        </AuHelpText>
      </AuContent>
    </div>
  {{/if}}
</div>